{"ast":null,"code":"import _regeneratorRuntime from\"G:/Github Local Repositries path/video_library_react_js/FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"G:/Github Local Repositries path/video_library_react_js/FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"G:/Github Local Repositries path/video_library_react_js/FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import ReactPlayer from'react-player';import{getData}from\"../Utils/fetchApi\";import{useParams,Link}from'react-router-dom';import{useHistory}from'../Context/HistoryContext';import{arr}from\"../Utils/dataArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function WatchVideo(){var _useParams=useParams(),videoId=_useParams.videoId;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),result=_useState2[0],setresult=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),recommend=_useState4[0],setrecommend=_useState4[1];var _useHistory=useHistory(),itemInhistoy=_useHistory.itemInhistoy,setIteminhistory=_useHistory.setIteminhistory;useEffect(function(){getAllVideos();},[]);function getAllVideos(){return _getAllVideos.apply(this,arguments);}// // Add this data to history context\n// useEffect(()=>{\n//   setIteminhistory([...itemInhistoy,result]);\n//   console.log(itemInhistoy.length);\n// },[]);\nfunction _getAllVideos(){_getAllVideos=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getData(\"/videos/\".concat(videoId));case 3:response=_context.sent;setresult(response.video);setrecommend(response.video.recommmend);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return _getAllVideos.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"WatchVideoPage\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left-section\",children:[/*#__PURE__*/_jsx(ReactPlayer,{playing:true,url:\"https://youtu.be/\".concat(videoId),controls:true,height:\"413px\",width:\"729px\"}),/*#__PURE__*/_jsx(\"small\",{style:{color:\"rgb(54,139,188)\"},children:result.hashtag}),/*#__PURE__*/_jsx(\"h2\",{children:result.title}),/*#__PURE__*/_jsxs(\"span\",{style:{display:'inline'},children:[/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsxs(\"b\",{children:[result.views,\" views\"]})}),/*#__PURE__*/_jsx(\"small\",{children:\" \\u2022 \"}),/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(\"b\",{children:result.releaseDate})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"right-section\",children:[recommend.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{class:\"chip\",children:[\" \",item,\" \"]});}),/*#__PURE__*/_jsxs(\"div\",{className:\"history-left-watch\",children:[/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"left\"}}),arr.map(function(item){return/*#__PURE__*/_jsx(Link,{to:\"/watch/\".concat(item.videoid),children:/*#__PURE__*/_jsxs(\"div\",{className:\"history-card-watch\",children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(ReactPlayer,{url:\"\".concat(item.url),width:\"150px\",height:\"100px\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"history-detail-watch\",children:item.title})]},item.id)});})]})]})]});}","map":{"version":3,"sources":["G:/Github Local Repositries path/video_library_react_js/FrontEnd/src/Component/WatchVideo.js"],"names":["useEffect","useState","ReactPlayer","getData","useParams","Link","useHistory","arr","WatchVideo","videoId","result","setresult","recommend","setrecommend","itemInhistoy","setIteminhistory","getAllVideos","response","video","recommmend","console","error","color","hashtag","title","display","views","releaseDate","map","item","textAlign","videoid","url","id"],"mappings":"kiBAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,WAAP,KAAwB,cAAxB,CACA,OAASC,OAAT,KAAuB,mBAAvB,CACA,OAASC,SAAT,CAAmBC,IAAnB,KAA+B,kBAA/B,CACA,OAASC,UAAT,KAA2B,2BAA3B,CACA,OAASC,GAAT,KAAoB,oBAApB,C,wFAGA,cAAe,SAASC,CAAAA,UAAT,EAAqB,CAChC,eAAkBJ,SAAS,EAA3B,CAAMK,OAAN,YAAMA,OAAN,CACA,cAA2BR,QAAQ,CAAC,EAAD,CAAnC,wCAAOS,MAAP,eAAcC,SAAd,eACA,eAAiCV,QAAQ,CAAC,EAAD,CAAzC,yCAAOW,SAAP,eAAiBC,YAAjB,eACA,gBAAyCP,UAAU,EAAnD,CAAOQ,YAAP,aAAOA,YAAP,CAAoBC,gBAApB,aAAoBA,gBAApB,CAKAf,SAAS,CAAC,UAAI,CACZgB,YAAY,GAEf,CAHU,CAGT,EAHS,CAAT,CATgC,QAenBA,CAAAA,YAfmB,+CA0BhC;AACA;AACA;AACA;AACA;AA9BgC,+FAelC,sLAE8Bb,CAAAA,OAAO,mBAAYM,OAAZ,EAFrC,QAEYQ,QAFZ,eAGQN,SAAS,CAACM,QAAQ,CAACC,KAAV,CAAT,CACAL,YAAY,CAACI,QAAQ,CAACC,KAAT,CAAeC,UAAhB,CAAZ,CAJR,+EAOQC,OAAO,CAACC,KAAR,cAPR,oEAfkC,+CAwChC,mBACQ,aAAK,SAAS,CAAC,gBAAf,wBACD,aAAK,SAAS,CAAC,cAAf,wBACA,KAAC,WAAD,EAAa,OAAO,CAAE,IAAtB,CAA4B,GAAG,4BAAsBZ,OAAtB,CAA/B,CAAgE,QAAQ,CAAE,IAA1E,CAAgF,MAAM,CAAC,OAAvF,CAA+F,KAAK,CAAC,OAArG,EADA,cAEC,cAAO,KAAK,CAAE,CAACa,KAAK,CAAC,iBAAP,CAAd,UAA0CZ,MAAM,CAACa,OAAjD,EAFD,cAGC,oBAAKb,MAAM,CAACc,KAAZ,EAHD,cAIC,cAAM,KAAK,CAAE,CAACC,OAAO,CAAC,QAAT,CAAb,wBACA,oCAAO,qBAAIf,MAAM,CAACgB,KAAX,YAAP,EADA,cAEA,mCAFA,cAGA,oCAAO,mBAAIhB,MAAM,CAACiB,WAAX,EAAP,EAHA,GAJD,GADC,cAYH,aAAK,SAAS,CAAC,eAAf,WAGCf,SAAS,CAACgB,GAAV,CAAc,SAASC,IAAT,CAAc,CAAE,mBACjC,aAAK,KAAK,CAAC,MAAX,eAAoBA,IAApB,OADiC,CAE3B,CAFH,CAHD,cAUA,aAAK,SAAS,CAAC,oBAAf,wBAEI,YAAK,KAAK,CAAE,CAACC,SAAS,CAAC,MAAX,CAAZ,EAFJ,CAMEvB,GAAG,CAACqB,GAAJ,CAAQ,SAASC,IAAT,CAAc,CACjB,mBACE,KAAC,IAAD,EAAM,EAAE,kBAAaA,IAAI,CAACE,OAAlB,CAAR,uBACG,aAAmB,SAAS,CAAC,oBAA7B,wBACA,mCACA,KAAC,WAAD,EAAa,GAAG,WAAKF,IAAI,CAACG,GAAV,CAAhB,CAAiC,KAAK,CAAC,OAAvC,CAA+C,MAAM,CAAC,OAAtD,EADA,EADA,cAIA,YAAK,SAAS,CAAC,sBAAf,UACCH,IAAI,CAACL,KADN,EAJA,GAAUK,IAAI,CAACI,EAAf,CADH,EADF,CAeC,CAhBN,CANF,GAVA,GAZG,GADR,CAqDH","sourcesContent":["import { useEffect, useState } from 'react';\r\nimport ReactPlayer from 'react-player';\r\nimport { getData} from \"../Utils/fetchApi\";\r\nimport { useParams,Link } from 'react-router-dom';\r\nimport { useHistory } from '../Context/HistoryContext';\r\nimport { arr } from \"../Utils/dataArray\";\r\n\r\n\r\nexport default function WatchVideo(){\r\n    let { videoId } = useParams();\r\n    const [result,setresult] = useState([]);\r\n    const [recommend,setrecommend] = useState([]);\r\n    const {itemInhistoy,setIteminhistory,} = useHistory();\r\n\r\n\r\n\r\n    \r\n    useEffect(()=>{\r\n      getAllVideos();\r\n      \r\n  },[]);\r\n\r\n\r\n  async function getAllVideos(){\r\n      try{\r\n          let response  = await getData(`/videos/${videoId}`);\r\n          setresult(response.video);\r\n          setrecommend(response.video.recommmend)\r\n\r\n      }catch(e){\r\n          console.error(e);\r\n      }\r\n  }\r\n    \r\n    // // Add this data to history context\r\n    // useEffect(()=>{\r\n    //   setIteminhistory([...itemInhistoy,result]);\r\n    //   console.log(itemInhistoy.length);\r\n    // },[]);\r\n  \r\n\r\n\r\n\r\n      \r\n\r\n\r\n\r\n\r\n    return(\r\n            <div className=\"WatchVideoPage\">\r\n           <div className=\"left-section\">\r\n           <ReactPlayer playing={true} url={`https://youtu.be/${videoId}`} controls={true} height=\"413px\" width=\"729px\"/>\r\n            <small style={{color:\"rgb(54,139,188)\"}}>{result.hashtag}</small>\r\n            <h2>{result.title}</h2>\r\n            <span style={{display:'inline'}}>\r\n            <small><b>{result.views} views</b></small>\r\n            <small> â€¢ </small>\r\n            <small><b>{result.releaseDate}</b></small>\r\n            </span>\r\n           </div>\r\n\r\n         <div className=\"right-section\">\r\n\r\n\r\n         {recommend.map(function(item){ return (\r\n       <div class=\"chip\"> {item} </div>\r\n         ); })}\r\n  \r\n  \r\n  \r\n  \r\n         <div className=\"history-left-watch\">\r\n\r\n             <div style={{textAlign:\"left\"}}>\r\n          </div>{\r\n\r\n\r\n           arr.map(function(item){\r\n                return(\r\n                  <Link to={`/watch/${ item.videoid}`} >\r\n                     <div key={item.id} className=\"history-card-watch\">\r\n                     <span>\r\n                     <ReactPlayer url={`${item.url}`} width=\"150px\" height=\"100px\"/>\r\n                     </span>\r\n                     <div className=\"history-detail-watch\">\r\n                     {item.title}\r\n                     </div>\r\n                    \r\n                     </div>\r\n                     </Link>\r\n                );\r\n                \r\n                \r\n                })}</div>\r\n         </div>\r\n            </div>\r\n        \r\n    \r\n        \r\n\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}